$(document).ready(function(){function i(){for($(".board .row .col li").html("<img src='"+r+"' class = 'card-front' width='150' height='100' >"),current_tries=max_tries,$(".max-tries").html(current_tries),card_index=0;card_index<number_cards;card_index++)for(card_iteration=0;card_iteration<2;card_iteration++){for(var i=Math.floor(Math.random()*number_slots);$(".board .row .col li").eq(i).find(".card-back").length>0;)i=Math.floor(Math.random()*number_slots);$(".board .cards .card").eq(card_index).find("img").clone().appendTo($(".board .row .col li").eq(i).addClass("hidden"))}}var a=0,r="assets/images/images.png";previous_image=null,previous_image_index=null,max_tries=10,current_tries=max_tries,number_cards=$(".board .cards .card").length,number_slots=$(".board .row .col li").length,i();var e=0;$(".board .row .col li").click(function(){e++;var r=$(this);2==e?(e--,setTimeout(function(){r.click()},50)):(image_index=r.parents(".board").find(".row .col li").index(r),this_image=r.find("img.card-back").attr("src"),r.find("img.card-front").animate({opacity:0},500),r.find("img.card-back").animate({opacity:1},500,function(){a++,1==a?(previous_image=this_image,previous_image_index=image_index):2==a&&(this_image==previous_image?($(".board .row .col li").eq(previous_image_index).removeClass("hidden"),$(".board .row .col li").eq(image_index).removeClass("hidden"),alert("Match!"),num_matches=$(".board .row .col li.hidden").length,0==num_matches&&alert("You Are a WInner!")):($(".board .row .col li").eq(previous_image_index).find("img.card-back").animate({opacity:0},500),$(".board .row .col li").eq(image_index).find("img.card-back").animate({opacity:0},500),$(".board .row .col li").eq(previous_image_index).addClass("hidden"),$(".board .row .col li").eq(image_index).addClass("hidden"),$(".board .row .col li").eq(previous_image_index).find("img.card-front").animate({opacity:1},500),$(".board .row .col li").eq(image_index).find("img.card-front").animate({opacity:1},500),current_tries--,0==current_tries?(alert("You are out of tries. Try again!"),i()):$(".max-tries").html(current_tries)),a=0),e--}))})});